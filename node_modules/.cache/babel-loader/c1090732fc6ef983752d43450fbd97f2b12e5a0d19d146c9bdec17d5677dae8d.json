{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const API_URL='http://localhost:5001';function CommentsPage(){const{courseId,assignmentId}=useParams();const[assignment,setAssignment]=useState(null);const[newComment,setNewComment]=useState('');const navigate=useNavigate();useEffect(()=>{fetchAssignment();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const fetchAssignment=async()=>{const{data}=await axios.get(\"\".concat(API_URL,\"/courses\"));const course=data.find(c=>c._id===courseId);const selectedAssignment=course.assignments.find(a=>a._id===assignmentId);setAssignment(selectedAssignment);};const addComment=async()=>{await axios.post(\"\".concat(API_URL,\"/courses/\").concat(courseId,\"/assignments/\").concat(assignmentId,\"/comments\"),{comment:newComment});fetchAssignment();setNewComment('');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Comments for \",assignment===null||assignment===void 0?void 0:assignment.title]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/assignments/\".concat(courseId)),children:\"Back to Assignments\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add new comment\",value:newComment,onChange:e=>setNewComment(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:addComment,children:\"Add Comment\"}),/*#__PURE__*/_jsx(\"ul\",{children:assignment===null||assignment===void 0?void 0:assignment.comments.map((comment,index)=>/*#__PURE__*/_jsx(\"li\",{children:comment},index))})]});}export default CommentsPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","jsxs","_jsxs","jsx","_jsx","API_URL","CommentsPage","courseId","assignmentId","assignment","setAssignment","newComment","setNewComment","navigate","fetchAssignment","data","get","concat","course","find","c","_id","selectedAssignment","assignments","a","addComment","post","comment","children","title","onClick","type","placeholder","value","onChange","e","target","comments","map","index"],"sources":["/Users/rujen.amatya/simplisafe/bu/CS633/proj/course-management-client/src/pages/CommentsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst API_URL = 'http://localhost:5001';\n\nfunction CommentsPage() {\n  const { courseId, assignmentId } = useParams();\n  const [assignment, setAssignment] = useState(null);\n  const [newComment, setNewComment] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchAssignment();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const fetchAssignment = async () => {\n    const { data } = await axios.get(`${API_URL}/courses`);\n    const course = data.find((c) => c._id === courseId);\n    const selectedAssignment = course.assignments.find((a) => a._id === assignmentId);\n    setAssignment(selectedAssignment);\n  };\n\n  const addComment = async () => {\n    await axios.post(`${API_URL}/courses/${courseId}/assignments/${assignmentId}/comments`, {\n      comment: newComment,\n    });\n    fetchAssignment();\n    setNewComment('');\n  };\n\n  return (\n    <div>\n      <h1>Comments for {assignment?.title}</h1>\n      <button onClick={() => navigate(`/assignments/${courseId}`)}>Back to Assignments</button>\n      <input\n        type=\"text\"\n        placeholder=\"Add new comment\"\n        value={newComment}\n        onChange={(e) => setNewComment(e.target.value)}\n      />\n      <button onClick={addComment}>Add Comment</button>\n      <ul>\n        {assignment?.comments.map((comment, index) => (\n          <li key={index}>{comment}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default CommentsPage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE1B,KAAM,CAAAC,OAAO,CAAG,uBAAuB,CAEvC,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACtB,KAAM,CAAEC,QAAQ,CAAEC,YAAa,CAAC,CAAGV,SAAS,CAAC,CAAC,CAC9C,KAAM,CAACW,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACe,UAAU,CAAEC,aAAa,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAAiB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACdiB,eAAe,CAAC,CAAC,CACnB;AACA,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAAf,KAAK,CAACgB,GAAG,IAAAC,MAAA,CAAIZ,OAAO,YAAU,CAAC,CACtD,KAAM,CAAAa,MAAM,CAAGH,IAAI,CAACI,IAAI,CAAEC,CAAC,EAAKA,CAAC,CAACC,GAAG,GAAKd,QAAQ,CAAC,CACnD,KAAM,CAAAe,kBAAkB,CAAGJ,MAAM,CAACK,WAAW,CAACJ,IAAI,CAAEK,CAAC,EAAKA,CAAC,CAACH,GAAG,GAAKb,YAAY,CAAC,CACjFE,aAAa,CAACY,kBAAkB,CAAC,CACnC,CAAC,CAED,KAAM,CAAAG,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAAzB,KAAK,CAAC0B,IAAI,IAAAT,MAAA,CAAIZ,OAAO,cAAAY,MAAA,CAAYV,QAAQ,kBAAAU,MAAA,CAAgBT,YAAY,cAAa,CACtFmB,OAAO,CAAEhB,UACX,CAAC,CAAC,CACFG,eAAe,CAAC,CAAC,CACjBF,aAAa,CAAC,EAAE,CAAC,CACnB,CAAC,CAED,mBACEV,KAAA,QAAA0B,QAAA,eACE1B,KAAA,OAAA0B,QAAA,EAAI,eAAa,CAACnB,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEoB,KAAK,EAAK,CAAC,cACzCzB,IAAA,WAAQ0B,OAAO,CAAEA,CAAA,GAAMjB,QAAQ,iBAAAI,MAAA,CAAiBV,QAAQ,CAAE,CAAE,CAAAqB,QAAA,CAAC,qBAAmB,CAAQ,CAAC,cACzFxB,IAAA,UACE2B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,iBAAiB,CAC7BC,KAAK,CAAEtB,UAAW,CAClBuB,QAAQ,CAAGC,CAAC,EAAKvB,aAAa,CAACuB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChD,CAAC,cACF7B,IAAA,WAAQ0B,OAAO,CAAEL,UAAW,CAAAG,QAAA,CAAC,aAAW,CAAQ,CAAC,cACjDxB,IAAA,OAAAwB,QAAA,CACGnB,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAE4B,QAAQ,CAACC,GAAG,CAAC,CAACX,OAAO,CAAEY,KAAK,gBACvCnC,IAAA,OAAAwB,QAAA,CAAiBD,OAAO,EAAfY,KAAoB,CAC9B,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAEA,cAAe,CAAAjC,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}